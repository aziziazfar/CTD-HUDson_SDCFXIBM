{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar MagicDropzone = function (_Component) {\n  _inherits(MagicDropzone, _Component);\n\n  function MagicDropzone() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, MagicDropzone);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = MagicDropzone.__proto__ || Object.getPrototypeOf(MagicDropzone)).call.apply(_ref, [this].concat(args))), _this), _this.isFileDialogActive = false, _this.composeHandlers = function (handler) {\n      var disabled = _this.props.disabled;\n\n      if (disabled) {\n        return null;\n      }\n\n      return handler;\n    }, _this.onDocumentDrop = function (e) {\n      if (_this.node && _this.node.contains(e.target)) {\n        // if we intercepted an event for our instance, let it propagate down to the instance's onDrop handler\n        return;\n      }\n\n      e.preventDefault();\n      _this.dragTargets = [];\n    }, _this.onDragStart = function (e) {\n      var onDragStart = _this.props.onDragStart;\n\n      if (onDragStart) {\n        onDragStart.call(_this, e);\n      }\n    }, _this.onDragEnter = function (e) {\n      var onDragEnter = _this.props.onDragEnter;\n      e.preventDefault(); // Count the dropzone and any children that are entered.\n\n      if (_this.dragTargets.indexOf(e.target) === -1) {\n        _this.dragTargets.push(e.target);\n      }\n\n      var draggedFiles = (0, _utils.getDataTransferItems)(e);\n\n      if (onDragEnter) {\n        onDragEnter.call(_this, e);\n      }\n    }, _this.onDragOver = function (e) {\n      var onDragOver = _this.props.onDragOver;\n      e.preventDefault();\n      e.stopPropagation();\n\n      try {\n        e.dataTransfer.dropEffect = 'copy';\n      } catch (err) {// continue regardless of error\n      }\n\n      if (onDragOver) {\n        onDragOver.call(_this, e);\n      }\n\n      return false;\n    }, _this.onDragLeave = function (e) {\n      var onDragLeave = _this.props.onDragLeave;\n      e.preventDefault(); // Only deactivate once the dropzone and all children have been left.\n\n      _this.dragTargets = _this.dragTargets.filter(function (element) {\n        return element !== e.target && _this.node.contains(element);\n      });\n\n      if (_this.dragTargets.length > 0) {\n        return;\n      }\n\n      if (onDragLeave) {\n        onDragLeave.call(_this, e);\n      }\n    }, _this.onDrop = function (e) {\n      var _this$props = _this.props,\n          onDrop = _this$props.onDrop,\n          onDropAccepted = _this$props.onDropAccepted,\n          onDropRejected = _this$props.onDropRejected,\n          multiple = _this$props.multiple,\n          disablePreview = _this$props.disablePreview,\n          minSize = _this$props.minSize,\n          maxSize = _this$props.maxSize,\n          accept = _this$props.accept;\n      var fileList = (0, _utils.getDataTransferItems)(e);\n      var acceptedFiles = [];\n      var rejectedFiles = []; // Stop default browser behavior\n\n      e.preventDefault(); // If there aren't any files, it might be a link.\n\n      if (fileList.length === 0) {\n        _this.onLink(e);\n\n        return;\n      } // Reset the counter along with the drag on a drop.\n\n\n      _this.dragTargets = [];\n      _this.isFileDialogActive = false;\n      fileList.forEach(function (file) {\n        if (!disablePreview) {\n          try {\n            file.preview = window.URL.createObjectURL(file);\n          } catch (err) {\n            if (process.env.NODE_ENV !== 'production') {// console.error('Failed to generate preview for file', file, err)\n            }\n          }\n        }\n\n        if ((0, _utils.fileAccepted)(file, accept) && (0, _utils.fileMatchSize)(file, maxSize, minSize)) {\n          acceptedFiles.push(file);\n        } else {\n          rejectedFiles.push(file);\n        }\n      });\n\n      if (!multiple) {\n        // if not in multi mode add any extra accepted files to rejected.\n        // This will allow end users to easily ignore a multi file drop in \"single\" mode.\n        rejectedFiles.push.apply(rejectedFiles, _toConsumableArray(acceptedFiles.splice(1)));\n      }\n\n      if (onDrop) {\n        onDrop.call(_this, acceptedFiles, rejectedFiles, [], e);\n      }\n\n      if (rejectedFiles.length > 0 && onDropRejected) {\n        onDropRejected.call(_this, rejectedFiles, e);\n      }\n\n      if (acceptedFiles.length > 0 && onDropAccepted) {\n        onDropAccepted.call(_this, acceptedFiles, e);\n      }\n    }, _this.onClick = function (e) {\n      var _this$props2 = _this.props,\n          onClick = _this$props2.onClick,\n          disableClick = _this$props2.disableClick;\n\n      if (!disableClick) {\n        e.stopPropagation();\n\n        if (onClick) {\n          onClick.call(_this, e);\n        } // in IE11/Edge the file-browser dialog is blocking, ensure this is behind setTimeout\n        // this is so react can handle state changes in the onClick prop above above\n        // see: https://github.com/react-dropzone/react-dropzone/issues/450\n\n\n        setTimeout(_this.open.bind(_this), 0);\n      }\n    }, _this.onInputElementClick = function (e) {\n      var inputProps = _this.props.inputProps;\n      e.stopPropagation();\n\n      if (inputProps && inputProps.onClick) {\n        inputProps.onClick();\n      }\n    }, _this.onFileDialogCancel = function () {\n      // timeout will not recognize context of this method\n      var onFileDialogCancel = _this.props.onFileDialogCancel;\n      var _this2 = _this,\n          fileInputEl = _this2.fileInputEl;\n      var _this3 = _this,\n          isFileDialogActive = _this3.isFileDialogActive; // execute the timeout only if the onFileDialogCancel is defined and FileDialog\n      // is opened in the browser\n\n      if (onFileDialogCancel && isFileDialogActive) {\n        setTimeout(function () {\n          // Returns an object as FileList\n          var FileList = fileInputEl.files;\n\n          if (!FileList.length) {\n            isFileDialogActive = false;\n            onFileDialogCancel();\n          }\n        }, 300);\n      }\n    }, _this.setRef = function (ref) {\n      _this.node = ref;\n    }, _this.setRefs = function (ref) {\n      _this.fileInputEl = ref;\n    }, _this.onLink = function (e) {\n      var _this$props3 = _this.props,\n          onDrop = _this$props3.onDrop,\n          accept = _this$props3.accept;\n\n      if (!accept) {\n        if (onDrop) {\n          onDrop([], [], [], e);\n        }\n\n        return;\n      }\n\n      var extensionReg = /(\\.[^.]+)(?=[,]|$)/gi;\n      var extensions = accept.match(extensionReg);\n\n      if (!extensions) {\n        if (onDrop) {\n          onDrop([], [], [], e);\n        }\n\n        return;\n      }\n\n      var replace = '(https://|http://)((?!http).)*(' + extensions.join('|') + ')';\n      var urlReg = new RegExp(replace, 'gi');\n      var links = [];\n\n      if (e.dataTransfer) {\n        var uriLink = decodeURIComponent(e.dataTransfer.getData('text/uri-list')).match(urlReg);\n        var htmlLink = e.dataTransfer.getData('text/html').match(urlReg); // Have priority of the actual uri.\n\n        if (uriLink) {\n          links = [].concat(_toConsumableArray(uriLink));\n        } else if (htmlLink) {\n          links = [].concat(_toConsumableArray(htmlLink.filter(function (l) {\n            return l.indexOf('\"') === -1;\n          }).map(function (v) {\n            return decodeURIComponent(v);\n          })));\n        }\n      } else {\n        // Not sure when this will ever be the case?\n        links = [].concat(_toConsumableArray(decodeURIComponent(e.target.value).match(urlReg)));\n      }\n\n      if (onDrop) {\n        onDrop([], [], links, e);\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(MagicDropzone, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var preventDropOnDocument = this.props.preventDropOnDocument;\n      this.dragTargets = [];\n\n      if (preventDropOnDocument) {\n        document.addEventListener('dragover', _utils.onDocumentDragOver, false);\n        document.addEventListener('drop', this.onDocumentDrop, false);\n      }\n\n      this.fileInputEl.addEventListener('click', this.onInputElementClick, false); // Tried implementing addEventListener, but didn't work out\n\n      document.body.onfocus = this.onFileDialogCancel;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var preventDropOnDocument = this.props.preventDropOnDocument;\n\n      if (preventDropOnDocument) {\n        document.removeEventListener('dragover', _utils.onDocumentDragOver);\n        document.removeEventListener('drop', this.onDocumentDrop);\n      }\n\n      this.fileInputEl.removeEventListener('click', this.onInputElementClick, false); // Can be replaced with removeEventListener, if addEventListener works\n\n      document.body.onfocus = null;\n    } // After much internal debate I decided to not distinguish that the files will\n    // be accepted. It is not widely supported and we only get mime-type info back\n    // Also, users won't be able to react fast enough to do anything if the\n    // overlay says WAIT THAT FILE ISN'T GOING TO WORK\n\n  }, {\n    key: 'open',\n\n    /**\n     * Open system file upload dialog.\n     *\n     * @public\n     */\n    value: function open() {\n      this.isFileDialogActive = true;\n      this.fileInputEl.value = null;\n      this.fileInputEl.click();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          accept = _props.accept,\n          children = _props.children,\n          disabled = _props.disabled,\n          multiple = _props.multiple,\n          possibleUnused = _objectWithoutProperties(_props, ['accept', 'children', 'disabled', 'multiple']);\n\n      var preventDropOnDocument = possibleUnused.preventDropOnDocument,\n          disablePreview = possibleUnused.disablePreview,\n          disableClick = possibleUnused.disableClick,\n          maxSize = possibleUnused.maxSize,\n          minSize = possibleUnused.minSize,\n          inputProps = possibleUnused.inputProps,\n          onDropAccepted = possibleUnused.onDropAccepted,\n          onDropRejected = possibleUnused.onDropRejected,\n          onFileDialogCancel = possibleUnused.onFileDialogCancel,\n          restOfProps = _objectWithoutProperties(possibleUnused, ['preventDropOnDocument', 'disablePreview', 'disableClick', 'maxSize', 'minSize', 'inputProps', 'onDropAccepted', 'onDropRejected', 'onFileDialogCancel']);\n\n      return _react2.default.createElement('div', _extends({}, restOfProps, {\n        onClick: this.composeHandlers(this.onClick),\n        onDragStart: this.composeHandlers(this.onDragStart),\n        onDragEnter: this.composeHandlers(this.onDragEnter),\n        onDragOver: this.composeHandlers(this.onDragOver),\n        onDragLeave: this.composeHandlers(this.onDragLeave),\n        onDrop: this.composeHandlers(this.onDrop),\n        ref: this.setRef,\n        'aria-disabled': disabled\n      }), children, _react2.default.createElement('input', {\n        disabled: disabled,\n        accept: accept,\n        type: 'file',\n        style: {\n          display: 'none'\n        },\n        multiple: _utils.supportMultiple && multiple,\n        ref: this.setRefs,\n        onChange: this.onDrop,\n        autoComplete: 'off'\n      }));\n    }\n  }]);\n\n  return MagicDropzone;\n}(_react.Component);\n\nMagicDropzone.defaultProps = {\n  preventDropOnDocument: true,\n  disabled: false,\n  disablePreview: false,\n  disableClick: false,\n  multiple: true,\n  maxSize: Infinity,\n  minSize: 0\n};\nexports.default = MagicDropzone;","map":{"version":3,"sources":["C:/Users/hahahazzry/Desktop/classification-react/node_modules/react-magic-dropzone/build/MagicDropzone.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_utils","obj","__esModule","default","_objectWithoutProperties","keys","indexOf","_toConsumableArray","arr","Array","isArray","arr2","from","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","MagicDropzone","_Component","_ref","_temp","_this","_ret","_len","args","_key","getPrototypeOf","apply","concat","isFileDialogActive","composeHandlers","handler","disabled","onDocumentDrop","e","node","contains","preventDefault","dragTargets","onDragStart","onDragEnter","push","draggedFiles","getDataTransferItems","onDragOver","stopPropagation","dataTransfer","dropEffect","err","onDragLeave","filter","element","onDrop","_this$props","onDropAccepted","onDropRejected","multiple","disablePreview","minSize","maxSize","accept","fileList","acceptedFiles","rejectedFiles","onLink","forEach","file","preview","window","URL","createObjectURL","process","env","NODE_ENV","fileAccepted","fileMatchSize","splice","onClick","_this$props2","disableClick","setTimeout","open","bind","onInputElementClick","inputProps","onFileDialogCancel","_this2","fileInputEl","_this3","FileList","files","setRef","ref","setRefs","_this$props3","extensionReg","extensions","match","replace","join","urlReg","RegExp","links","uriLink","decodeURIComponent","getData","htmlLink","l","map","v","componentDidMount","preventDropOnDocument","document","addEventListener","onDocumentDragOver","body","onfocus","componentWillUnmount","removeEventListener","click","render","_props","children","possibleUnused","restOfProps","createElement","type","style","display","supportMultiple","onChange","autoComplete","Component","defaultProps","Infinity"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar MagicDropzone = function (_Component) {\n  _inherits(MagicDropzone, _Component);\n\n  function MagicDropzone() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, MagicDropzone);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = MagicDropzone.__proto__ || Object.getPrototypeOf(MagicDropzone)).call.apply(_ref, [this].concat(args))), _this), _this.isFileDialogActive = false, _this.composeHandlers = function (handler) {\n      var disabled = _this.props.disabled;\n\n      if (disabled) {\n        return null;\n      }\n      return handler;\n    }, _this.onDocumentDrop = function (e) {\n      if (_this.node && _this.node.contains(e.target)) {\n        // if we intercepted an event for our instance, let it propagate down to the instance's onDrop handler\n        return;\n      }\n      e.preventDefault();\n      _this.dragTargets = [];\n    }, _this.onDragStart = function (e) {\n      var onDragStart = _this.props.onDragStart;\n\n      if (onDragStart) {\n        onDragStart.call(_this, e);\n      }\n    }, _this.onDragEnter = function (e) {\n      var onDragEnter = _this.props.onDragEnter;\n\n      e.preventDefault();\n\n      // Count the dropzone and any children that are entered.\n      if (_this.dragTargets.indexOf(e.target) === -1) {\n        _this.dragTargets.push(e.target);\n      }\n\n      var draggedFiles = (0, _utils.getDataTransferItems)(e);\n\n      if (onDragEnter) {\n        onDragEnter.call(_this, e);\n      }\n    }, _this.onDragOver = function (e) {\n      var onDragOver = _this.props.onDragOver;\n\n      e.preventDefault();\n      e.stopPropagation();\n      try {\n        e.dataTransfer.dropEffect = 'copy';\n      } catch (err) {\n        // continue regardless of error\n      }\n\n      if (onDragOver) {\n        onDragOver.call(_this, e);\n      }\n      return false;\n    }, _this.onDragLeave = function (e) {\n      var onDragLeave = _this.props.onDragLeave;\n\n      e.preventDefault();\n\n      // Only deactivate once the dropzone and all children have been left.\n      _this.dragTargets = _this.dragTargets.filter(function (element) {\n        return element !== e.target && _this.node.contains(element);\n      });\n      if (_this.dragTargets.length > 0) {\n        return;\n      }\n\n      if (onDragLeave) {\n        onDragLeave.call(_this, e);\n      }\n    }, _this.onDrop = function (e) {\n      var _this$props = _this.props,\n          onDrop = _this$props.onDrop,\n          onDropAccepted = _this$props.onDropAccepted,\n          onDropRejected = _this$props.onDropRejected,\n          multiple = _this$props.multiple,\n          disablePreview = _this$props.disablePreview,\n          minSize = _this$props.minSize,\n          maxSize = _this$props.maxSize,\n          accept = _this$props.accept;\n\n      var fileList = (0, _utils.getDataTransferItems)(e);\n      var acceptedFiles = [];\n      var rejectedFiles = [];\n\n      // Stop default browser behavior\n      e.preventDefault();\n\n      // If there aren't any files, it might be a link.\n      if (fileList.length === 0) {\n        _this.onLink(e);\n        return;\n      }\n\n      // Reset the counter along with the drag on a drop.\n      _this.dragTargets = [];\n      _this.isFileDialogActive = false;\n\n      fileList.forEach(function (file) {\n        if (!disablePreview) {\n          try {\n            file.preview = window.URL.createObjectURL(file);\n          } catch (err) {\n            if (process.env.NODE_ENV !== 'production') {\n              // console.error('Failed to generate preview for file', file, err)\n            }\n          }\n        }\n\n        if ((0, _utils.fileAccepted)(file, accept) && (0, _utils.fileMatchSize)(file, maxSize, minSize)) {\n          acceptedFiles.push(file);\n        } else {\n          rejectedFiles.push(file);\n        }\n      });\n\n      if (!multiple) {\n        // if not in multi mode add any extra accepted files to rejected.\n        // This will allow end users to easily ignore a multi file drop in \"single\" mode.\n        rejectedFiles.push.apply(rejectedFiles, _toConsumableArray(acceptedFiles.splice(1)));\n      }\n\n      if (onDrop) {\n        onDrop.call(_this, acceptedFiles, rejectedFiles, [], e);\n      }\n\n      if (rejectedFiles.length > 0 && onDropRejected) {\n        onDropRejected.call(_this, rejectedFiles, e);\n      }\n\n      if (acceptedFiles.length > 0 && onDropAccepted) {\n        onDropAccepted.call(_this, acceptedFiles, e);\n      }\n    }, _this.onClick = function (e) {\n      var _this$props2 = _this.props,\n          onClick = _this$props2.onClick,\n          disableClick = _this$props2.disableClick;\n\n      if (!disableClick) {\n        e.stopPropagation();\n\n        if (onClick) {\n          onClick.call(_this, e);\n        }\n\n        // in IE11/Edge the file-browser dialog is blocking, ensure this is behind setTimeout\n        // this is so react can handle state changes in the onClick prop above above\n        // see: https://github.com/react-dropzone/react-dropzone/issues/450\n        setTimeout(_this.open.bind(_this), 0);\n      }\n    }, _this.onInputElementClick = function (e) {\n      var inputProps = _this.props.inputProps;\n\n      e.stopPropagation();\n      if (inputProps && inputProps.onClick) {\n        inputProps.onClick();\n      }\n    }, _this.onFileDialogCancel = function () {\n      // timeout will not recognize context of this method\n      var onFileDialogCancel = _this.props.onFileDialogCancel;\n      var _this2 = _this,\n          fileInputEl = _this2.fileInputEl;\n      var _this3 = _this,\n          isFileDialogActive = _this3.isFileDialogActive;\n      // execute the timeout only if the onFileDialogCancel is defined and FileDialog\n      // is opened in the browser\n\n      if (onFileDialogCancel && isFileDialogActive) {\n        setTimeout(function () {\n          // Returns an object as FileList\n          var FileList = fileInputEl.files;\n          if (!FileList.length) {\n            isFileDialogActive = false;\n            onFileDialogCancel();\n          }\n        }, 300);\n      }\n    }, _this.setRef = function (ref) {\n      _this.node = ref;\n    }, _this.setRefs = function (ref) {\n      _this.fileInputEl = ref;\n    }, _this.onLink = function (e) {\n      var _this$props3 = _this.props,\n          onDrop = _this$props3.onDrop,\n          accept = _this$props3.accept;\n\n\n      if (!accept) {\n        if (onDrop) {\n          onDrop([], [], [], e);\n        }\n        return;\n      }\n\n      var extensionReg = /(\\.[^.]+)(?=[,]|$)/gi;\n\n      var extensions = accept.match(extensionReg);\n\n      if (!extensions) {\n        if (onDrop) {\n          onDrop([], [], [], e);\n        }\n        return;\n      }\n\n      var replace = '(https://|http://)((?!http).)*(' + extensions.join('|') + ')';\n      var urlReg = new RegExp(replace, 'gi');\n\n      var links = [];\n      if (e.dataTransfer) {\n        var uriLink = decodeURIComponent(e.dataTransfer.getData('text/uri-list')).match(urlReg);\n\n        var htmlLink = e.dataTransfer.getData('text/html').match(urlReg);\n\n        // Have priority of the actual uri.\n        if (uriLink) {\n          links = [].concat(_toConsumableArray(uriLink));\n        } else if (htmlLink) {\n          links = [].concat(_toConsumableArray(htmlLink.filter(function (l) {\n            return l.indexOf('\"') === -1;\n          }).map(function (v) {\n            return decodeURIComponent(v);\n          })));\n        }\n      } else {\n        // Not sure when this will ever be the case?\n        links = [].concat(_toConsumableArray(decodeURIComponent(e.target.value).match(urlReg)));\n      }\n\n      if (onDrop) {\n        onDrop([], [], links, e);\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(MagicDropzone, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var preventDropOnDocument = this.props.preventDropOnDocument;\n\n      this.dragTargets = [];\n\n      if (preventDropOnDocument) {\n        document.addEventListener('dragover', _utils.onDocumentDragOver, false);\n        document.addEventListener('drop', this.onDocumentDrop, false);\n      }\n      this.fileInputEl.addEventListener('click', this.onInputElementClick, false);\n      // Tried implementing addEventListener, but didn't work out\n      document.body.onfocus = this.onFileDialogCancel;\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      var preventDropOnDocument = this.props.preventDropOnDocument;\n\n      if (preventDropOnDocument) {\n        document.removeEventListener('dragover', _utils.onDocumentDragOver);\n        document.removeEventListener('drop', this.onDocumentDrop);\n      }\n      this.fileInputEl.removeEventListener('click', this.onInputElementClick, false);\n      // Can be replaced with removeEventListener, if addEventListener works\n      document.body.onfocus = null;\n    }\n\n    // After much internal debate I decided to not distinguish that the files will\n    // be accepted. It is not widely supported and we only get mime-type info back\n    // Also, users won't be able to react fast enough to do anything if the\n    // overlay says WAIT THAT FILE ISN'T GOING TO WORK\n\n  }, {\n    key: 'open',\n\n\n    /**\n     * Open system file upload dialog.\n     *\n     * @public\n     */\n    value: function open() {\n      this.isFileDialogActive = true;\n      this.fileInputEl.value = null;\n      this.fileInputEl.click();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          accept = _props.accept,\n          children = _props.children,\n          disabled = _props.disabled,\n          multiple = _props.multiple,\n          possibleUnused = _objectWithoutProperties(_props, ['accept', 'children', 'disabled', 'multiple']);\n\n      var preventDropOnDocument = possibleUnused.preventDropOnDocument,\n          disablePreview = possibleUnused.disablePreview,\n          disableClick = possibleUnused.disableClick,\n          maxSize = possibleUnused.maxSize,\n          minSize = possibleUnused.minSize,\n          inputProps = possibleUnused.inputProps,\n          onDropAccepted = possibleUnused.onDropAccepted,\n          onDropRejected = possibleUnused.onDropRejected,\n          onFileDialogCancel = possibleUnused.onFileDialogCancel,\n          restOfProps = _objectWithoutProperties(possibleUnused, ['preventDropOnDocument', 'disablePreview', 'disableClick', 'maxSize', 'minSize', 'inputProps', 'onDropAccepted', 'onDropRejected', 'onFileDialogCancel']);\n\n      return _react2.default.createElement(\n        'div',\n        _extends({}, restOfProps, {\n          onClick: this.composeHandlers(this.onClick),\n          onDragStart: this.composeHandlers(this.onDragStart),\n          onDragEnter: this.composeHandlers(this.onDragEnter),\n          onDragOver: this.composeHandlers(this.onDragOver),\n          onDragLeave: this.composeHandlers(this.onDragLeave),\n          onDrop: this.composeHandlers(this.onDrop),\n          ref: this.setRef,\n          'aria-disabled': disabled\n        }),\n        children,\n        _react2.default.createElement('input', {\n          disabled: disabled,\n          accept: accept,\n          type: 'file',\n          style: { display: 'none' },\n          multiple: _utils.supportMultiple && multiple,\n          ref: this.setRefs,\n          onChange: this.onDrop,\n          autoComplete: 'off'\n        })\n      );\n    }\n  }]);\n\n  return MagicDropzone;\n}(_react.Component);\n\nMagicDropzone.defaultProps = {\n  preventDropOnDocument: true,\n  disabled: false,\n  disablePreview: false,\n  disableClick: false,\n  multiple: true,\n  maxSize: Infinity,\n  minSize: 0\n};\n\nexports.default = MagicDropzone;"]},"metadata":{},"sourceType":"script"}